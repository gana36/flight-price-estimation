# Environment variables template for Flight Price Prediction MLOps
# Copy this to .env and fill in your actual values

# ========================================
# AWS Configuration
# ========================================
AWS_REGION=us-east-1
AWS_ACCOUNT_ID=your-account-id

# S3 Buckets
S3_DVC_BUCKET=s3://flightprice-dvc-data
S3_MLFLOW_BUCKET=s3://flightprice-mlflow-artifacts
S3_MODEL_BUCKET=s3://flightprice-models

# ECR (Elastic Container Registry)
ECR_REGISTRY=your-account-id.dkr.ecr.us-east-1.amazonaws.com
ECR_REPO_APP=flightprice-app
ECR_REPO_MLFLOW=flightprice-mlflow

# ========================================
# MLflow Configuration
# ========================================
# Local development (file-based)
MLFLOW_TRACKING_URI=http://localhost:5000

# Production (RDS + S3)
# MLFLOW_TRACKING_URI=http://your-mlflow-server:5000
# MLFLOW_BACKEND_STORE_URI=postgresql://mlflow_user:password@rds-instance.region.rds.amazonaws.com:5432/mlflow
MLFLOW_DEFAULT_ARTIFACT_ROOT=s3://flightprice-mlflow-artifacts

# MLflow settings
MLFLOW_EXPERIMENT_NAME=flight_price_prediction
MLFLOW_REGISTERED_MODEL_NAME=FlightPricePredictor

# ========================================
# Database Configuration
# ========================================
# Local development (Docker PostgreSQL)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/flightprice

# Production (RDS PostgreSQL)
# DATABASE_URL=postgresql://app_user:password@rds-instance.region.rds.amazonaws.com:5432/flightprice_prod

DB_HOST=localhost
DB_PORT=5432
DB_NAME=flightprice
DB_USER=postgres
DB_PASSWORD=postgres

# ========================================
# DVC Configuration
# ========================================
DVC_REMOTE_NAME=s3remote
DVC_REMOTE_URL=s3://flightprice-dvc-data/dvc-cache

# ========================================
# Application Configuration
# ========================================
APP_HOST=0.0.0.0
APP_PORT=8000
APP_WORKERS=4
APP_LOG_LEVEL=info

# API Settings
API_TITLE=Flight Price Prediction API
API_VERSION=1.0.0
API_DESCRIPTION=MLOps API for flight price prediction using ensemble models

# ========================================
# Monitoring & Observability
# ========================================
# Prometheus
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# CloudWatch (AWS)
CLOUDWATCH_LOG_GROUP=/aws/flightprice
CLOUDWATCH_LOG_STREAM=app
CLOUDWATCH_REGION=us-east-1

# ========================================
# Model Configuration
# ========================================
MODEL_ALIAS=production
MODEL_STAGE=Production  # Deprecated MLflow stage (fallback)
MODEL_LOCAL_PATH=models/latest.joblib

# Model update settings
MODEL_RELOAD_ENABLED=true
MODEL_CACHE_TTL=3600  # seconds

# ========================================
# Data Configuration
# ========================================
DATA_RAW_PATH=data/raw
DATA_PROCESSED_PATH=data/processed
DATA_REPORTS_PATH=reports

# ========================================
# Training Configuration
# ========================================
CONFIG_PATH=configs
BASE_CONFIG=configs/base.yaml
TRAINING_CONFIG=configs/training.yaml

# ========================================
# ECS Configuration (for deployment)
# ========================================
ECS_CLUSTER=flightprice-cluster
ECS_SERVICE_APP=flightprice-app-service
ECS_SERVICE_MLFLOW=flightprice-mlflow-service
ECS_TASK_DEF_APP=flightprice-app-task
ECS_TASK_DEF_MLFLOW=flightprice-mlflow-task

# ========================================
# Security
# ========================================
# AWS Secrets Manager
SECRETS_MANAGER_ARN=arn:aws:secretsmanager:region:account-id:secret:flightprice-secrets

# API Keys (if needed)
# API_KEY=your-api-key-here

# ========================================
# CI/CD Configuration
# ========================================
GITHUB_REPO=your-username/FlightPricePrediction
GITHUB_BRANCH=main

# ========================================
# Feature Flags
# ========================================
ENABLE_DRIFT_DETECTION=true
ENABLE_MODEL_MONITORING=true
ENABLE_PREDICTION_LOGGING=true
ENABLE_METRICS_EXPORT=true

# ========================================
# Performance Settings
# ========================================
MAX_BATCH_SIZE=1000
REQUEST_TIMEOUT=30
PREDICTION_CACHE_SIZE=10000

# ========================================
# Development Settings
# ========================================
DEBUG=false
RELOAD=false  # Auto-reload for development
TESTING=false
